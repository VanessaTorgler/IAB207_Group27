/* theme palette (teal/charcoal/amber) */
:root{
  --brand-teal:#0b7285; --brand-teal-600:#085d6a; --brand-teal-700:#064e56; --brand-teal-disabled:#b3dfe5;
  --brand-charcoal:#23262a; --brand-bg:#f7f8fa; --brand-border:#e3e6ea;
  --accent:#b08900; --accent-700:#8c6d00;
  --surface:#fff; --muted:#6c757d;

  /* utility tokens */
  --brand:#0b7285;
  --danger:#e03131;
  --chip-bg:#eef6f8; --chip-text:#0b7285;

  /* Bootstrap base */
  --bs-primary:var(--brand-teal);
  --bs-primary-rgb:11,114,133;
  --bs-body-color:var(--brand-charcoal);
  --bs-body-bg:var(--brand-bg);
  --bs-border-color:var(--brand-border);
  --bs-link-color:var(--bs-primary);
  --bs-link-hover-color:var(--brand-teal-600);
  --bs-btn-font-weight:600;
}

/* Buttons */
.btn-primary{
  --bs-btn-color:#fff;
  --bs-btn-bg:var(--brand-teal);
  --bs-btn-border-color:var(--brand-teal);
  --bs-btn-hover-bg:var(--brand-teal-600);
  --bs-btn-hover-border-color:var(--brand-teal-600);
  --bs-btn-active-bg:var(--brand-teal-700);
  --bs-btn-active-border-color:var(--brand-teal-700);
  --bs-btn-disabled-bg:var(--brand-teal-disabled);
  --bs-btn-disabled-border-color:var(--brand-teal-disabled);
}
.btn-outline-primary{
  --bs-btn-color:var(--brand-teal);
  --bs-btn-border-color:var(--brand-teal);
  --bs-btn-hover-bg:var(--brand-teal);
  --bs-btn-hover-color:#fff;
  --bs-btn-hover-border-color:var(--brand-teal);
}

/* Pagination */
.page-link{ --bs-pagination-active-bg:var(--brand-teal); }

/* Type & helpers */
.navbar-brand{ letter-spacing:.2px; }
a{ text-decoration-skip-ink:auto; }
.form-text{ font-size:.8rem; color:var(--muted); }

/* Cards & media */
.card{ border-radius:.75rem; background:var(--surface); }
.card-header{ background:#f2f6f7; }
.card img,.card-img-top{ object-fit:cover; }
.card-img-top{ height:clamp(160px,12vw,240px); }

/* Global image safety */
img{ max-width:100%; height:auto; }

/* Status badges */
.badge-status{ font-weight:600; }
.badge-open{ background:#d1e7dd; color:#0f5132; border:1px solid #0f5132; }
.badge-inactive{ background:#fff3cd; color:#664d03; border:1px solid #664d03; }
.badge-soldout{ background:#f8d7da; color:#842029; border:1px solid #842029; }
.badge-cancelled{
  background:
    repeating-linear-gradient(45deg,#e9ecef 0,#e9ecef 6px,#dde1e6 6px,#dde1e6 12px);
  color:#495057; border:1px solid #495057;
}

/* Accessibility / focus */
:focus-visible,
.nav-tabs .nav-link:focus-visible{
  outline:3px solid rgba(var(--bs-primary-rgb),.35);
  outline-offset:2px;
}

/* Tables */
.table td,.table th{ vertical-align:middle; }
.table img.rounded{ display:block; }
@media (max-width:575.98px){
  .table td:nth-child(3),.table th:nth-child(3){ white-space:nowrap; }
}

/* Layout tweaks */
.offcanvas{ border-top-left-radius:.75rem; border-bottom-left-radius:.75rem; }
.card.h-100 .card-body{ display:flex; flex-direction:column; }

/* Small-screen balance */
@media (max-width:575.98px){
  header .h3{ font-size:1.25rem; }
  .navbar-brand{ font-size:1rem; }
  .breadcrumb{ font-size:.9rem; }
  .btn{ padding:.45rem .75rem; }
  .card-body{ padding:1rem; }
}

/* Hero image constraints */
header img.img-fluid{ max-height:clamp(420px,32vw,480px); object-fit:cover; width:100%; }

/* Navbar */
.navbar{ box-shadow:0 1px 0 rgba(16,24,40,.04); background:var(--surface); }
@media (max-width:991.98px){
  .navbar .nav-link.dropdown-toggle{
    width:100%; display:flex; align-items:center; justify-content:space-between;
    padding-left:0; padding-right:0;
  }
  .navbar .dropdown-menu{
    position:static; float:none; width:100%; margin-top:.25rem;
    box-shadow:none; border:1px solid var(--bs-border-color);
    border-radius:.5rem; overflow:hidden;
  }
  .navbar .dropdown-item{ padding:.75rem 0; }
}

/* Logos (navbar/footer) */
.bondra-logo{ height:32px; width:auto; }
.payment-logo{
  height:24px; width:auto; opacity:.8; transition:opacity .2s ease-in-out, filter .2s ease-in-out; display:inline-block;
}
.payment-logo:hover{ opacity:1; }
.footer-dark .payment-logo{ filter:invert(1) hue-rotate(180deg); opacity:.9; }

/* Comments / avatars */
.comment-avatar{ object-fit:cover; border:2px solid #dee2e6; }
#commentsHeading{ font-size:1rem; }
.card-footer.small{ background:#fcfdff; }

/* “Quick facts” list (aside) */
aside .card-body li strong{ display:inline-block; width:110px; }

/* Loading skeleton */
@keyframes skeleton-shimmer{ 0%{background-position:-200% 0;} 100%{background-position:200% 0;} }
.skeleton{
  position:relative; display:block; border-radius:.5rem;
  background:linear-gradient(90deg,#e9ecef 25%,#f8f9fa 37%,#e9ecef 63%);
  background-size:400% 100%; animation:skeleton-shimmer 1.4s ease-in-out infinite;
}
.skeleton-img{ height:160px; }
.skeleton-text{ height:12px; }
#home-loading .skeleton-img{ height:clamp(160px,10vw,200px); }

/* CSS-only modal */
.modal-css{ position:fixed; inset:0; display:none; background:rgba(0,0,0,.5); z-index:1050; padding:1rem; }
.modal-css:target{ display:block; }
.modal-css__dialog{ max-width:520px; margin:4rem auto; border-radius:.75rem; }
.modal-css:target ~ *{ pointer-events:none; }

/* Reduced motion */
@media (prefers-reduced-motion:reduce){ .skeleton{ animation:none !important; } }

/* Responsive table/cards switch (force cards on <768px) */
@media (max-width:767.98px){
  #table-tab{ display:none !important; }
  #table-pane{ display:none !important; }
  #cards-pane{ display:block !important; opacity:1 !important; }
}

/* Empty state */
.empty-state{ min-height:40vh; }

#events-grid .empty-state {
  max-width: 880px;
  margin-left: auto;
  margin-right: auto;
}

/* Utilities */
.sidebar-sticky{ position:sticky; top:1rem; }
.table .truncate-col{ max-width:340px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.table .truncate-col a.text-reset{ text-decoration:none; }
.table .truncate-col a.text-reset:hover{ text-decoration:underline; }

/* modal cta emphasis */
.modal .btn-danger{ font-weight:600; }

/* compact filter zone */
.filters-compact .form-label{ margin-bottom:.25rem; font-size:.9rem; }
.filters-compact .btn{ font-size:.95rem; padding:.375rem .6rem; }

/* required field asterisk */
.form-label:has(+ input[required]),
.form-label:has(+ select[required]),
.form-label:has(+ textarea[required]){ position:relative; }
.form-label:has(+ input[required])::after,
.form-label:has(+ select[required])::after,
.form-label:has(+ textarea[required])::after{
  content:" *"; color:var(--bs-danger); margin-left:.25rem;
}

/* form width caps */
@media (min-width:1200px){
  .card .form-control{ max-width:520px; }
  .col-xl-4 .form-control{ max-width:360px; }
}

/* host initials avatar */
.host-initials{
  width:34px; height:34px; border-radius:50%;
  display:inline-flex; align-items:center; justify-content:center;
  background:#e9f2ff; color:#0b5ed7; font-weight:700; font-size:.9rem;
}

/* price chip */
.price-chip{
  display:inline-block; padding:.25rem .5rem; border-radius:999px;
  background:var(--chip-bg); color:var(--chip-text);
  font-weight:700; letter-spacing:.2px;
}
.price-chip--free{ background:#e9fbef; color:#1a7f37; }

/* low-stock pill */
.stock-pill{
  display:inline-block; padding:.2rem .5rem; border-radius:.5rem;
  background:#fff1f0; color:var(--danger); font-weight:600; font-size:.8rem;
}

/* availability bar */
.availability__bar{ height:8px; background:#eef2f7; border-radius:999px; overflow:hidden; }
.availability__fill{
  height:100%; background:linear-gradient(90deg,var(--brand) 0%,#3bc9db 100%);
  border-radius:999px; transition:width .4s ease-in-out;
}

/* specs list */
.event-specs{ margin:0; padding:0; }
.event-specs__row{
  display:grid; grid-template-columns:120px 1fr; gap:.75rem;
  padding:.5rem 0; border-top:1px dashed rgba(0,0,0,.06);
}
.event-specs__row:first-child{ border-top:none; }
.event-specs dt{ margin:0; font-weight:600; color:#495057; display:flex; align-items:center; gap:.5rem; }
.event-specs dd{ margin:0; color:#212529; }
.spec-ico{ width:16px; height:16px; stroke:currentColor; fill:none; stroke-width:1.8; }

/* hover lift for event cards */
.event-panel:hover{ box-shadow:0 .5rem 1rem rgba(0,0,0,.06); }

/* compact button */
.btn.btn-sm{ border-radius:10px; }

/* “my events” compact grid card */
.card--compact .card-img-top{ height:clamp(140px,10vw,170px); }
.card--compact .card-body{ padding:.75rem 1rem; }
.card--compact .badge{ font-size:.65rem; padding:.3rem .5rem; }
.card--compact .small{ font-size:.8rem; }
.card--compact .card-title{
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; line-clamp:2; overflow:hidden;
}

/* filters panel */
@media (min-width:768px){ .filters-wide{ min-width:260px; } }
.filters-grid{ display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:.75rem 1rem; }
.filters-grid .grid-full{ grid-column:1 / -1; }
.filters-grid .list-scroll{ max-height:220px; overflow:auto; padding-right:.25rem; }
.filters-grid .check-stack .form-check{ margin-bottom:.25rem; }
.filters-grid fieldset{ border:0; margin:0; padding:0; }
.filters-grid legend{ font-size:.875rem; font-weight:600; line-height:1.25; margin-bottom:.25rem; padding:0; }
.filters-grid .form-label,
.filters-grid .form-check-label{ font-size:.9rem; }

/* icon-only button + compact dropdowns */
.btn-icon{ --bs-btn-padding-x:.35rem; --bs-btn-padding-y:.35rem; line-height:1; }
.dropdown-menu-sm .dropdown-item{ padding:.35rem .75rem; font-size:.9rem; }
.dropdown-toggle-no-caret::after{ display:none; }

/* overflow helper */
.overflow-y-visible{ overflow-y:visible; }

/* cancel modal accent */
.cancel-icon{
  width:40px; height:40px;
  background:rgba(220,53,69,.1);
  color:#dc3545; font-weight:700;
}
/* stronger danger button inside css modal */
.modal-css__dialog .btn-danger{
  box-shadow:0 0 0 0 rgba(220,53,69,.5);
  transition:box-shadow .2s ease;
}
.modal-css__dialog .btn-danger:focus,
.modal-css__dialog .btn-danger:hover{
  box-shadow:0 0 0 .2rem rgba(220,53,69,.25);
}

/* anim angle */
@supports (background: conic-gradient(from 0deg, red, blue)) {
  @property --spin { syntax:'<angle>'; inherits:false; initial-value:0deg; }
}

/* palette */
.page-my-events { --rainbow:#ff004c,#ff7a00,#ffef00,#40ff00,#00ffd5,#007bff,#8a2be2,#ff004c; }

/* pill */
.page-my-events .badge-soldout{
  --spin:0deg;
  position:relative;
  display:inline-flex;
  align-items:center;
  gap:.45rem;
  padding:.38rem .9rem .38rem 2.1rem;
  border-radius:999px;
  border:2px solid transparent;
  background:
    linear-gradient(#00000070,#00000070) padding-box,
    conic-gradient(from var(--spin), var(--rainbow)) border-box;
  color:#ffffff;
  font-weight:700;
  letter-spacing:.1px;
  box-shadow:0 1px 0 rgba(0,0,0,.06);
  animation:soldout-spin 6s linear infinite;
}

/* confetti */
.page-my-events .badge-soldout::after{
  content:"🎉";
  position:absolute;
  left:.6rem; top:50%;
  transform:translateY(-50%) rotate(-8deg);
  font-size:.95rem; line-height:1;
}

/* dark */
.dark .page-my-events .badge-soldout{
  background:
    linear-gradient(#0f1115,#0f1115) padding-box,
    conic-gradient(from var(--spin), var(--rainbow)) border-box;
  color:#eee;
  -webkit-text-stroke:.35px #000;
  box-shadow:0 1px 0 rgba(255,255,255,.06);
}

/* keyframes */
@keyframes soldout-spin { to { --spin:360deg; } }

/* reduce motion */
@media (prefers-reduced-motion: reduce){
  .page-my-events .badge-soldout{ animation:none; }
}
