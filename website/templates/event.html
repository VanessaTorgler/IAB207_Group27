{% extends "base.html" %}
{% block title %}
<title>Bondra â€“ Event Details</title>
{% endblock %}

{% block breadcrumbs %}
<!-- Breadcrumbs -->
<div class="bg-light border-bottom">
  <nav class="container small py-2" aria-label="breadcrumb">
    <ol class="breadcrumb mb-0">
      <li class="breadcrumb-item"><a href="{{ url_for('main.index') }}">Home</a></li>
      <li class="breadcrumb-item active" aria-current="page">Event Details</li>
    </ol>
  </nav>
</div>
{% endblock %}

{% block header %}
<!-- Hero / Cover -->
<header class="border-bottom">
  <div class="container">
    <div class="row g-4 align-items-center py-4">
      <div class="col-12 col-lg-7">
        <img src="../static/img/{{image}}" class="img-fluid rounded"
          alt="Cover image for Foundersâ€™ Breakfast: AI in Practice">
      </div>
      <div class="col-12 col-lg-5">
        <span class="badge rounded-pill badge-open mb-2">Open</span>
        <h1 class="h3 mb-2">{{ title }}</h1>
        <p class="text-muted mb-3">Hosted by <strong>{{ host_name }}</strong></p>

        <dl class="row small mb-3">
          <dt class="col-4 col-sm-3">Date</dt>
          <dd class="col-8 col-sm-9">Fri, 19 Sep 2025</dd>
          <dt class="col-4 col-sm-3">Time</dt>
          <dd class="col-8 col-sm-9">6:30â€“9:30 PM AEST</dd>
          <dt class="col-4 col-sm-3">Format</dt>
          <dd class="col-8 col-sm-9">In-person â€¢ South Brisbane</dd>
          <dt class="col-4 col-sm-3">Category</dt>
          <dd class="col-8 col-sm-9">Tech &amp; AI</dd>
          <dt class="col-4 col-sm-3">Capacity</dt>
          <dd class="col-8 col-sm-9">500 seats â€¢ 78 remaining</dd>
          <dt class="col-4 col-sm-3">Price</dt>
          <dd class="col-8 col-sm-9">$35</dd>
        </dl>

        <p class="mb-3">
          Lightning talks from founders implementing AI now, with a light dinner in between.
          Bring questionsâ€”this session is practical and conversational.
        </p>

        <!-- Booking Path B: Modal confirmation -->
        <div class="mt-2">
          <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#confirmBookingModal"
            aria-label="Open booking confirmation modal">
            Book Now
          </button>
        </div>
      </div>
    </div>
  </div>
</header>
{% endblock %}

{% block content %}
<!-- Booking Confirmation Modal -->
<div class="modal fade" id="confirmBookingModal" tabindex="-1" aria-labelledby="confirmBookingLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title h5" id="confirmBookingLabel">Confirm your booking</h2>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close modal"></button>
      </div>
      <div class="modal-body small">
        <p class="mb-2">Event: <strong>{{ title }}</strong></p>
        <p class="mb-2">Date/Time: { start_at }</p>
        <div class="mb-3">
          <label for="modalTicketQty" class="form-label">Tickets</label>
          <input id="modalTicketQty" type="number" min="1" max="12" value="1" class="form-control">
        </div>
      </div>
      <div class="modal-footer">
        <a href="{{ url_for('main.bookingHistory') }}" class="btn btn-primary">Confirm &amp; Go To Payment</a>
        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
      </div>
    </div>
  </div>
</div>

<!-- Details & Comments -->
<main id="main" class="container py-4">
  <div class="row g-4">
    <!-- Left column: details + comments -->
    <section class="col-12 col-lg-8">
      <div class="card">
        <div class="card-header fw-semibold">About this event</div>
        <div class="card-body">
          <p class="mb-3">
            Weâ€™ll unpack real case studies (workflow automation, customer support, analytics)
            and discuss pathways into AI-adjacent roles. Light dinner provided.
          </p>
          <ul class="mb-0">
            <li>Doors open: 6:15 PM</li>
            <li>Talks: 6:30â€“7:50 PM, 8:10-9:30 PM</li>
            <li>Intermission: 7:50â€“8:10 PM</li>
          </ul>
        </div>
      </div>

      <!-- Comments list -->
      <div class="card mt-4" aria-labelledby="commentsHeading">
        <div class="card-header d-flex align-items-center justify-content-between">
          <span id="commentsHeading" class="fw-semibold">Comments</span>
          <span class="text-muted small"><strong>3</strong> comments â€¢ Visible to everyone</span>
        </div>
        <div class="card-body">
          <article class="d-flex gap-3 mb-3">
            <img class="rounded-circle comment-avatar" src="../static/img/aisha.jpg" alt="Aisha avatar" width="40"
              height="40">
            <div>
              <div class="fw-semibold">Aisha</div>
              <div class="text-muted small">Posted 02 Sep 2025</div>
              <p class="mb-0">Already got my tickets, can't wait ðŸ˜Š Will there be parking on-site?</p>
            </div>
          </article>
          <article class="d-flex gap-3 mb-3">
            <img class="rounded-circle comment-avatar" src="../static/img/dev.jpg" alt="Dev avatar" width="40"
              height="40">
            <div>
              <div class="fw-semibold">Dev</div>
              <div class="text-muted small">Posted 02 Sep 2025</div>
              <p class="mb-0">Any dietary options for the light dinner?</p>
            </div>
          </article>
          <article class="d-flex gap-3">
            <img class="rounded-circle comment-avatar" src="../static/img/mia.jpg" alt="Mia avatar" width="40"
              height="40">
            <div>
              <div class="fw-semibold">Mia (Host)</div>
              <div class="text-muted small">Posted 03 Sep 2025</div>
              <p class="mb-0">Yesâ€”parking under the convention centre; veg &amp; GF options included.</p>
            </div>
          </article>
        </div>
      </div>

      <!-- Comment form -->
      <form class="card mt-3" aria-label="Post a comment">
        <div class="card-header fw-semibold">Post a comment</div>
        <div class="card-body">
          <div class="mb-3">
            <label for="commentText" class="form-label">Your comment</label>
            <textarea id="commentText" class="form-control" rows="3" placeholder="Ask a question or share thoughtsâ€¦"
              required></textarea>
          </div>
          <div class="d-flex justify-content-end gap-2">
            <button type="reset" class="btn btn-outline-secondary">Clear</button>
            <button type="button" class="btn btn-primary">Submit</button>
          </div>
        </div>
      </form>
    </section>

    <!-- Right column -->
    <aside class="col-12 col-lg-4">
      <!-- Quick facts -->
      <div class="card mb-4">
        <div class="card-header fw-semibold">Quick facts</div>
        <div class="card-body small">
          <ul class="list-unstyled mb-0">
            <li class="mb-2"><strong>Status:</strong> <span class="badge rounded-pill badge-open">Open</span></li>
            <li class="mb-2"><strong>Remaining seats:</strong> 12</li>
            <li class="mb-2"><strong>Dress code:</strong> Casual</li>
            <li class="mb-2"><strong>Accessibility:</strong> Wheelchair accessible</li>
            <li class="mb-2"><strong>Contact:</strong> support@foundersbreakfast.com</li>
            <li class="mb-0"><strong>Share:</strong> <a href="#" class="link-primary">Copy link</a></li>
          </ul>
        </div>
      </div>

      <!-- Location map -->
      <div class="card">
        <div class="card-header fw-semibold">Location</div>
        <div class="card-body p-0">
          <div class="ratio ratio-1x1">
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7079.536905550841!2d153.01840009999998!3d-27.4764671!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6b915a0968742765%3A0x53b5b99532970ee3!2sBrisbane%20Convention%20%26%20Exhibition%20Centre!5e0!3m2!1sen!2sau!4v1757206100826!5m2!1sen!2sau"
              style="border:0;" allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade">
            </iframe>
          </div>
        </div>
      </div>
    </aside>


  </div>
</main>
{% endblock %}